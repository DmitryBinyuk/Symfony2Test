webpackJsonp([1],{23:function(t,e,n){"use strict";var i=n(9),s=n(93),a=n(84),o=n.n(a),r=n(78);n.n(r);i.a.use(s.a),e.a=new s.a({mode:"history",routes:[{path:"/",name:"DepositStation",component:o.a}]})},25:function(t,e,n){function i(t){n(81)}var s=n(1)(n(45),n(92),i,null,null);t.exports=s.exports},44:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(9),s=n(25),a=n.n(s),o=n(23),r=n(2),c=n(22),u=n.n(c),l=n(26),p=n(24),f=n.n(p);i.a.config.productionTip=!1,i.a.use(r.a),i.a.use(l.default);var d=new r.a.Store({state:{patients:[],groups:[],currentList:{id:"AZ",name:"sortation",url:"patient-list",title:"Patienten-Liste",collection:"patient",group:!1,filter:{status:1},filterBox:[{type:"text",value:"label"}]},navigation:[{id:"AZ",name:"sortation",url:"patient-list",title:"Patienten-Liste",collection:"patient",group:!1,filter:{status:1},filterBox:[{type:"text",value:"label"}]},{id:"group",name:"group",url:"patient-list",title:"Patienten-Liste",collection:"patient",group:!0},{id:"archive",name:"archive",url:"patient-list-archived",title:"Liste der archivierten Patienten",collection:"patient",group:!1,filter:{status:0}}],filteredPatients:[],currentGroup:null,searchQuery:null},mutations:{setList:function(t,e){t.currentList=f.a.find(t.navigation,{name:e})},setCurrentGroup:function(t,e){t.currentGroup=e},filterPatients:function(t){for(var e in t.currentList.filter)!function(e){t.filteredPatients=t.filteredPatients.filter(function(n){return n[e]===t.currentList.filter[e]})}(e);if(t.currentList.group&&(t.filteredPatients=t.filteredPatients.filter(function(e){return e.group===t.currentGroup})),t.currentList.filterBox){for(var n in t.currentList.filterBox)!function(e){t.filteredPatients=t.filteredPatients.filter(function(n){var i=f.a.lowerCase(n[t.currentList.filterBox[e].value]),s=f.a.lowerCase(t.searchQuery);return i.indexOf(s)+1})}(n)}},freshPatients:function(t){t.filteredPatients=t.patients},setGroups:function(t){t.groups=f.a.mapValues(f.a.uniqBy(t.patients,"group"),"group")},setPatients:function(t,e){t.patients=e},setSearchQuery:function(t,e){t.searchQuery=e},resetCurrentGroup:function(t){t.currentGroup=null}},actions:{selectList:function(t,e){t.commit("setList",e),t.commit("freshPatients"),t.commit("filterPatients")},selectGroup:function(t,e){t.commit("setCurrentGroup",e),t.commit("freshPatients"),t.commit("filterPatients")},loadPatients:function(t){u.a.get("/get").then(function(e){t.commit("setPatients",e.data.data.collections.patient),t.commit("setGroups"),t.commit("freshPatients")}).catch(function(t){console.log(t)})},searchPatients:function(t,e){t.commit("setSearchQuery",e),t.commit("freshPatients"),t.commit("filterPatients")}}});new i.a({el:"#app",router:o.a,template:"<App/>",components:{App:a.a},store:d})},45:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"app"}},46:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),s=n.n(i),a=n(87),o=n.n(a),r=n(86),c=n.n(r),u=n(2);e.default={components:{DepositStationNavigation:o.a,DepositStationList:c.a},computed:s()({localComputed:function(){}},n.i(u.b)(["navigation","currentList"])),mounted:function(){this.$store.dispatch("loadPatients")}}},47:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["patient"],data:function(){return{openedPatient:0}},methods:{showPatient:function(t){this.openedPatient===t?this.openedPatient=null:this.openedPatient=t}}}},48:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),s=n.n(i),a=n(2),o=n(85),r=n.n(o);e.default={components:{DepositStationItem:r.a},props:["list"],computed:s()({localComputed:function(){}},n.i(a.b)(["navigation","groups","currentList","filteredPatients","currentGroup"])),data:function(){return{showPatientsBlock:!0,showGroupsBlock:!1,searchQuery:null,data:null}},methods:{showPatients:function(t){this.showPatientsBlock=!0,this.showGroupsBlock=!1,this.$store.dispatch("selectGroup",t)},showGroups:function(){this.showPatientsBlock=!1,this.showGroupsBlock=!0,this.$store.commit("resetCurrentGroup")},clearSearch:function(){this.searchQuery=null,this.searchPatients(null)},searchPatients:function(t){this.$store.dispatch("searchPatients",t)}},mounted:function(){!this.currentGroup&&this.currentList.group&&(this.showPatientsBlock=!1,this.showGroupsBlock=!0)}}},49:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),s=n.n(i),a=n(2);e.default={computed:s()({localComputed:function(){}},n.i(a.b)(["navigation"])),methods:{selectList:function(t){this.$store.dispatch("selectList",t)}}}},78:function(t,e){},79:function(t,e){},80:function(t,e){},81:function(t,e){},84:function(t,e,n){function i(t){n(80)}var s=n(1)(n(46),n(90),i,null,null);t.exports=s.exports},85:function(t,e,n){var i=n(1)(n(47),n(88),null,null,null);t.exports=i.exports},86:function(t,e,n){var i=n(1)(n(48),n(89),null,null,null);t.exports=i.exports},87:function(t,e,n){var i=n(1)(n(49),n(91),null,null,null);t.exports=i.exports},88:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{staticClass:"list-group-item",on:{click:function(e){t.showPatient(t.patient.id)}}},[t._v("\n    "+t._s(t.patient.label)+"\n\n    "),n("span",{staticClass:"caret"}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.openedPatient===t.patient.id,expression:"openedPatient === patient.id"}]},[n("p",[n("strong",[t._v("Tel.:")]),t._v(" "+t._s(t.patient.details.tel))]),t._v(" "),n("p",[n("strong",[t._v("E-mail:")]),t._v(" "+t._s(t.patient.details.email))])])])},staticRenderFns:[]}},89:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-sm-4 col-sm-offset-6"},[n("div",{staticClass:"panel panel-default"},[n("div",{staticClass:"panel-heading"},[n("h4",[t._v(t._s(t.list.title))])]),t._v(" "),t.list.group?n("div",{staticClass:"panel-body"},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showGroupsBlock,expression:"showGroupsBlock"}],staticClass:"list-group"},t._l(t.groups,function(e){return n("a",{staticClass:"list-group-item",on:{click:function(n){t.showPatients(e)}}},[t._v(t._s(e))])})),t._v(" "),n("button",{directives:[{name:"show",rawName:"v-show",value:t.showPatientsBlock,expression:"showPatientsBlock"}],staticClass:"btn btn-default",on:{click:function(e){t.showGroups()}}},[t._v("Back")])]):t._e(),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.list.filterBox,expression:"list.filterBox"}],staticClass:"panel-body"},[n("div",{class:{"input-group":t.searchQuery}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],staticClass:"form-control",attrs:{type:"text",id:"search",placeholder:"Search"},domProps:{value:t.searchQuery},on:{keyup:function(e){t.searchPatients(t.searchQuery)},input:function(e){e.target.composing||(t.searchQuery=e.target.value)}}}),t._v(" "),n("span",{staticClass:"input-group-btn"},[n("button",{directives:[{name:"show",rawName:"v-show",value:t.searchQuery,expression:"searchQuery"}],staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(e){t.clearSearch()}}},[n("span",{staticClass:"glyphicon glyphicon-remove",attrs:{"aria-hidden":"true"}})])])])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showPatientsBlock,expression:"showPatientsBlock"}],staticClass:"list-group patients"},[n("virtual-scroller",{staticClass:"scroller",staticStyle:{height:"200px"},attrs:{items:t.filteredPatients,"item-height":"41"},scopedSlots:t._u([{key:"default",fn:function(t){return[n("deposit-station-item",{attrs:{patient:t.item}})]}}])})],1)])])},staticRenderFns:[]}},90:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container-fluid"},[t._l(t.navigation,function(e){return e.name==t.currentList.name?n("deposit-station-list",{key:e.id,attrs:{list:e}}):t._e()}),t._v(" "),n("deposit-station-navigation")],2)},staticRenderFns:[]}},91:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-sm-2"},[n("div",{staticClass:"panel panel-default"},[n("div",{staticClass:"panel-body"},[n("ul",{staticClass:"nav nav-pills nav-stacked"},t._l(t.navigation,function(e){return n("li",[n("a",{on:{click:function(n){t.selectList(e.name)}}},[n("span",{staticClass:"glyphicon glyphicon-sort-by-alphabet",attrs:{"aria-hidden":"true"}})])])}))])])])},staticRenderFns:[]}},92:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]}}},[44]);
//# sourceMappingURL=app.main.js.map